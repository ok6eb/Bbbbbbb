<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>Send Image to Discord</title>
</head>
<body>

<input type="file" id="fileInput" accept="image/*">

<script>
const webhookURL = "https://discord.com/api/webhooks/1317625966306005104/Jto4PkzgKwC4GwedEP4PiL4PjXjF2tBcNdSizTBG_7omqqivhu32KOmis0kbtwlwEf2w";

document.getElementById("fileInput").addEventListener("change", function () {
  const file = this.files[0];
  if (!file) return;

  const img = new Image();
  img.onload = function () {

    const canvas = document.createElement("canvas");
    canvas.width = img.width;
    canvas.height = img.height;

    const ctx = canvas.getContext("2d");
    ctx.drawImage(img, 0, 0);

    // Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª
    const now = new Date();
    const dateTime = now.toLocaleString();

    // Ø´Ø±ÙŠØ· Ø®Ù„ÙÙŠØ© Ù„Ù„Ù†Øµ
    ctx.fillStyle = "rgba(0,0,0,0.6)";
    ctx.fillRect(0, canvas.height - 60, canvas.width, 60);

    // Ù†Øµ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø¯Ø§Ø®Ù„ Ø§Ù„ØµÙˆØ±Ø©
    ctx.fillStyle = "white";
    ctx.font = "20px Arial";
    ctx.fillText("ðŸ•’ " + dateTime, 20, canvas.height - 25);

    // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØµÙˆØ±Ø© + Ø±Ø³Ø§Ù„Ø© Ù†ØµÙŠØ©
    canvas.toBlob(blob => {
      const formData = new FormData();

      formData.append("file", blob, "image.jpg");

      formData.append("payload_json", JSON.stringify({
        content: "ðŸ“¸ ØµÙˆØ±Ø© Ø¬Ø¯ÙŠØ¯Ø©\nðŸ•’ Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª: " + dateTime
      }));

      fetch(webhookURL, {
        method: "POST",
        body: formData
      });

    }, "image/jpeg", 1.0);
  };

  img.src = URL.createObjectURL(file);
});
</script>

</body>
</html>
